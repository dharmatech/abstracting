#!/bin/sh

######################################################################

cd /scratch/_abstracting-file-sets-a

######################################################################

scheme=ypsilon

######################################################################

while [ $# -gt 0 ]
do
  case $1
  in
    --ypsilon)
      scheme=ypsilon
      shift
    ;;

    --larceny)
      scheme=larceny
      shift
    ;;

    --ikarus)
      scheme=ikarus
      shift
    ;;

    --chicken)
      scheme=chicken
      shift
    ;;

    --gambit)
      scheme=gambit
      shift
  esac
done

######################################################################

if   [ $scheme = ypsilon ]
then
  # ypsilon -i --sitelib=support/ypsilon-sitelib -- src/boot/ypsilon/ypsilon.scm
  ypsilon -i -- src/boot/ypsilon/ypsilon.scm
elif [ $scheme = larceny ]
then
  cat src/boot/larceny/larceny.scm - | larceny -path support/larceny -err5rs
elif [ $scheme = ikarus ]
then
  cat src/boot/ikarus/ikarus.scm - | ikarus
elif [ $scheme = chicken ]
then
  csi src/boot/chicken/chicken.scm
elif [ $scheme = gambit ]
then
  # /usr/local/bin/gsc -e '(load "src/boot/gambit/gambit.scm")' -
  # /usr/local/bin/gsc -e '(include "src/boot/gambit/gambit.scm")' -
  # /usr/local/bin/gsc -:s -e '(include "src/boot/gambit/gambit.scm")' -
  /usr/local/bin/gsc -e '(include "src/boot/gambit/gambit.scm")' -
else
  exit
fi

